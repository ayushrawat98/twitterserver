import{a as C}from"./chunk-G5KA7DMQ.js";import{B as r,C as d,G as f,H as p,J as h,M as o,N as i,O as A,P as k,Q as S,R as v,W as e,X as y,_ as M,fa as O,na as P,o as c,oa as b,p as g,qa as E,ra as L,sa as I,t as _,ta as R,u as x,va as l}from"./chunk-N2VRIK4C.js";var w=[{path:"login",loadComponent:()=>import("./chunk-E4AZHBQB.js").then(t=>t.LoginComponent),canActivate:[()=>!c(l).userdata()]},{path:"register",loadComponent:()=>import("./chunk-MOMOZQG3.js").then(t=>t.RegisterComponent),canActivate:[()=>!c(l).userdata()]},{path:"main",loadComponent:()=>import("./chunk-WGPIFLYJ.js").then(t=>t.MainComponent)},{path:":username",loadComponent:()=>import("./chunk-RO4QCCDP.js").then(t=>t.ProfileComponent)},{path:":username/post/:id",loadComponent:()=>import("./chunk-FSDK2Z5F.js").then(t=>t.PostexpandedComponent)},{path:"",redirectTo:"main",pathMatch:"full"}];var D={providers:[O({eventCoalescing:!0}),R(w),P()]};function T(t,a){t&1&&(o(0,"a",0),e(1,"login"),i(),e(2," \xA0 "),o(3,"a",0),e(4,"register"),i(),e(5," \xA0 ")),t&2&&(p("routerLink","/login"),r(3),p("routerLink","/register"))}function j(t,a){if(t&1){let n=k();o(0,"a",0),e(1),i(),e(2," \xA0 "),o(3,"button",2),S("click",function(){_(n);let s=v();return x(s.logout())}),e(4,"logout"),i()}if(t&2){let n,m,s=v();p("routerLink","/"+((n=s._authservice.userdata())==null?null:n.username)),r(),y((m=s._authservice.userdata())==null?null:m.username)}}var u=class t{constructor(a,n){this._authservice=a;this.route=n}title="xbharat";ngOnInit(){let a=localStorage.getItem("token");a&&Date.now()<C(a).exp*1e3&&this._authservice.userdata.set(C(a))}logout(){localStorage.removeItem("token"),this._authservice.userdata.set(void 0),this.route.navigateByUrl("/main")}static \u0275fac=function(n){return new(n||t)(d(l),d(L))};static \u0275cmp=g({type:t,selectors:[["app-root"]],standalone:!0,features:[M],decls:15,vars:6,consts:[[3,"routerLink"],["id","sliding-text"],[3,"click"]],template:function(n,m){n&1&&(o(0,"header")(1,"h1",0),e(2,"x"),i(),o(3,"div",1)(4,"h1",0),e(5,"\u092D\u093E\u0930\u0924"),i(),o(6,"h1",0),e(7,"Bharat"),i()()(),A(8,"router-outlet"),o(9,"nav"),f(10,T,6,2),o(11,"a",0),e(12,"main"),i(),e(13," \xA0 "),f(14,j,5,2),i()),n&2&&(r(),p("routerLink","/main"),r(3),p("routerLink","/main"),r(2),p("routerLink","/main"),r(4),h(m._authservice.userdata()?-1:10),r(),p("routerLink","/main"),r(3),h(m._authservice.userdata()?14:-1))},dependencies:[E,I],styles:["nav[_ngcontent-%COMP%]{position:fixed;bottom:0;background-color:#14191f}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}header[_ngcontent-%COMP%]{overflow:hidden;height:72px;display:flex}#sliding-text[_ngcontent-%COMP%]{position:relative}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(90px)}50%{transform:translateY(0)}to{transform:translateY(-64px)}}#sliding-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp 4s ease-in-out forwards}"]})};b(u,D).catch(t=>console.error(t));
