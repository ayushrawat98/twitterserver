import{a as y,b as o,c as b,d as N,e as w,f as i,g as R,h as S,i as _}from"./chunk-YVCTOI2N.js";import{a as F}from"./chunk-G5KA7DMQ.js";import{Aa as C,B as s,C as a,H as n,M as m,N as c,O as d,Q as f,W as l,Y as g,_ as v,p as u,va as h}from"./chunk-XZJSOPHC.js";var k=class p{constructor(e,t){this._authservice=e;this.route=t}message;registerform=new w({username:new i("",{nonNullable:!0,validators:[o.required]}),displayname:new i("",{nonNullable:!0,validators:[o.required]}),password:new i("",{nonNullable:!0,validators:[o.required]})});register(){this._authservice.register(this.registerform.value).subscribe({next:e=>{this.message=e.message,this._authservice.userdata.set(F(e.token)),localStorage.setItem("token",e.token),this.route.navigateByUrl("/main")},error:e=>{this.message=e.error.message}})}static \u0275fac=function(t){return new(t||p)(a(C),a(h))};static \u0275cmp=u({type:p,selectors:[["app-register"]],standalone:!0,features:[v],decls:7,vars:3,consts:[[1,"login",3,"formGroup"],["type","text","placeholder","@username","formControlName","username"],["type","text","placeholder","display name","formControlName","displayname"],["type","password","placeholder","password","formControlName","password"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(t,r){t&1&&(m(0,"div",0),d(1,"input",1)(2,"input",2)(3,"input",3),m(4,"button",4),f("click",function(){return r.register()}),l(5,"Register"),c()(),l(6)),t&2&&(n("formGroup",r.registerform),s(4),n("disabled",r.registerform.invalid),s(2),g(" ",r.message,""))},dependencies:[_,y,b,N,R,S]})};export{k as RegisterComponent};
