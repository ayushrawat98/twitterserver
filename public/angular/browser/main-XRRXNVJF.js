import{a as g}from"./chunk-G5KA7DMQ.js";import{B as r,Ba as P,C as d,Ca as E,Da as L,Ea as R,Fa as D,G as _,H as l,Ha as m,J as f,M as a,N as o,O as k,P as A,Q as S,R as h,W as e,X as b,ba as y,ka as w,n as u,o as x,s as C,t as v,wa as I,xa as M,ya as O}from"./chunk-K4OJKT4O.js";var j=[{path:"login",loadComponent:()=>import("./chunk-JDOHHEPP.js").then(t=>t.LoginComponent),canActivate:[()=>!u(m).userdata()]},{path:"register",loadComponent:()=>import("./chunk-PUCI5RNM.js").then(t=>t.RegisterComponent),canActivate:[()=>!u(m).userdata()]},{path:"notification",loadComponent:()=>import("./chunk-GERENV34.js").then(t=>t.NotificationComponent)},{path:"main/:page",loadComponent:()=>import("./chunk-IKKRPOPJ.js").then(t=>t.MainComponent)},{path:":username",loadComponent:()=>import("./chunk-YONKWQIY.js").then(t=>t.ProfileComponent)},{path:":username/post/:id",loadComponent:()=>import("./chunk-GCDKJCZA.js").then(t=>t.PostexpandedComponent)},{path:"",redirectTo:"main/0",pathMatch:"full"}];var F=(t,i)=>{let n=localStorage.getItem("token"),p=t.clone({headers:t.headers.set("Authorization","Bearer "+(n??""))});return i(p)};var T={providers:[w({eventCoalescing:!0}),R(j,D({scrollPositionRestoration:"enabled"})),I(M([F]))]};function H(t,i){t&1&&(a(0,"a",2),e(1,"login"),o(),e(2," \xA0 "),a(3,"a",2),e(4,"register"),o(),e(5," \xA0 ")),t&2&&(l("routerLink","/login"),r(3),l("routerLink","/register"))}function N(t,i){if(t&1){let n=A();a(0,"a",2),e(1),o(),e(2," \xA0 "),a(3,"a",2),e(4,"notification"),o(),e(5," \xA0 "),a(6,"a",3),S("click",function(){C(n);let c=h();return v(c.logout())}),e(7,"logout"),o()}if(t&2){let n,p,c=h();l("routerLink","/"+((n=c._authservice.userdata())==null?null:n.username)),r(),b("@"+((p=c._authservice.userdata())==null?null:p.username)),r(2),l("routerLink","/notification")}}var s=class t{constructor(i,n){this._authservice=i;this.route=n}title="Khichdi";ngOnInit(){let i=localStorage.getItem("token");i&&Date.now()<g(i).exp*1e3?this._authservice.userdata.set(g(i)):localStorage.clear()}logout(){localStorage.removeItem("token"),this._authservice.userdata.set(null),this.route.navigateByUrl("/main/0")}static \u0275fac=function(n){return new(n||t)(d(m),d(E))};static \u0275cmp=x({type:t,selectors:[["app-root"]],standalone:!0,features:[y],decls:14,vars:5,consts:[[1,"container"],["id","sliding-text"],[3,"routerLink"],[3,"click"]],template:function(n,p){n&1&&(a(0,"div",0)(1,"header")(2,"div",1)(3,"h1",2),e(4,"\u0916\u093F\u091A\u095C\u0940"),o(),a(5,"h1",2),e(6,"Khichdi"),o()()(),k(7,"router-outlet"),o(),a(8,"nav")(9,"a",2),e(10,"main"),o(),e(11," \xA0 "),_(12,H,6,2)(13,N,8,3),o()),n&2&&(r(3),l("routerLink","/main/0"),r(2),l("routerLink","/main/0"),r(4),l("routerLink","/main/0"),r(3),f(p._authservice.userdata()?-1:12),r(),f(p._authservice.userdata()?13:-1))},dependencies:[P,L],styles:[".container[_ngcontent-%COMP%]{width:98%;margin:auto;padding:0}nav[_ngcontent-%COMP%]{width:100%;padding:4px;position:fixed;bottom:0;display:flex;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 10px #0000004d;border-top:1px solid rgba(255,255,255,.2);background-color:#0000004d}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{filter:blur(0px);color:#fff;text-decoration:none;padding:8px}header[_ngcontent-%COMP%]{overflow:hidden;height:72px;display:flex}#sliding-text[_ngcontent-%COMP%]{position:relative}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(90px)}50%{transform:translateY(0)}to{transform:translateY(-64px)}}#sliding-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp 4s ease-in-out forwards}@media (min-width:630px){.container[_ngcontent-%COMP%]{width:600px}}"]})};O(s,T).catch(t=>console.error(t));
