import{a as w,b as m,c as S,d as b,e as y,f as l,g as _,h as F,i as N}from"./chunk-6JA7AFXT.js";import{a as k}from"./chunk-G5KA7DMQ.js";import{$ as v,B as i,Ba as C,C as r,H as n,N as a,O as c,P as d,R as g,X as s,Z as f,p as u,wa as h}from"./chunk-P2ZFRGZW.js";var D=class p{constructor(e,t){this._authservice=e;this.route=t}message;loginform=new y({username:new l("",[m.required]),password:new l("",[m.required])});login(){this._authservice.login(this.loginform.value).subscribe({next:e=>{this.message="",this._authservice.userdata.set(k(e.token)),localStorage.setItem("token",e.token),this.route.navigateByUrl("/main")},error:e=>{this.message=e.error.message}})}static \u0275fac=function(t){return new(t||p)(r(C),r(h))};static \u0275cmp=u({type:p,selectors:[["app-login"]],standalone:!0,features:[v],decls:6,vars:3,consts:[[1,"login",3,"formGroup"],["type","text","placeholder","@username","formControlName","username",1,"input-with-at"],["type","password","placeholder","password","formControlName","password"],[3,"click","disabled"]],template:function(t,o){t&1&&(a(0,"div",0),d(1,"input",1)(2,"input",2),a(3,"button",3),g("click",function(){return o.login()}),s(4,"Login"),c()(),s(5)),t&2&&(n("formGroup",o.loginform),i(3),n("disabled",o.loginform.invalid),i(2),f(" ",o.message,""))},dependencies:[N,w,S,b,_,F]})};export{D as LoginComponent};
